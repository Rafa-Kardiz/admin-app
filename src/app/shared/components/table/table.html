<p-table #dt2 [paginator]="false" [globalFilterFields]="globalFilter" [value]="data()" [rows]="10"
   [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true" [tableStyle]="{ 'min-width': '50rem' }">
   <ng-template #caption>
      <div class="py-3 w-full sm:w-1/2 h-10">
         <p-floatlabel variant="on">
            <input pInputText id="buscar" autocomplete="off" class="w-full p-2"
               (input)="dt2.filterGlobal($event.target.value, 'contains')" />
            <label for="in_label">Buscar...</label>
         </p-floatlabel>
         <hr>
      </div>

   </ng-template>
   <ng-template #header>
      <tr>
         @for (column of columns(); track $index) {
         <th [pSortableColumn]="column.key">
            <div class="flex items-center gap-2">
               {{column.name}}
               <p-sortIcon [field]="column.key" />
            </div>
         </th>
         }
         @empty {
         <th>No existen datos</th>
         }
         @if(columns().length > 0) {
         <th>
            Acciones
         </th>
         }

      </tr>
   </ng-template>
   <ng-template #body let-data>
      <tr>
         @for (column of columns(); track $index) {
         <td>{{ data[column.key] }}</td>
         }
         @empty {
         <td>No existen datos</td>
         }
         @if(columns().length > 0) {
         <td>
            <p-button icon="pi pi-info-circle" [rounded]="true" [text]="true" severity="success" pTooltip="Ver detalles"
               tooltipPosition="bottom" (click)="viewDetails(data[uniqueIdColumn()])" />
            @if (tableCrudPermission().edit) {
            <p-button icon="pi pi-file-edit" [rounded]="true" [text]="true" severity="info" pTooltip="Editar"
               tooltipPosition="bottom" (click)="editData(data[uniqueIdColumn()])" />
            }
            @if (tableCrudPermission().delete) {
            <p-button icon="pi pi-trash" [rounded]="true" [text]="true" severity="danger" pTooltip="Eliminar"
               tooltipPosition="bottom" (click)="deleteData(data[uniqueIdColumn()])" />
            }

         </td>
         }
      </tr>
   </ng-template>
</p-table>